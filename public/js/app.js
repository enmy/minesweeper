(self.webpackChunk=self.webpackChunk||[]).push([[773],{7080:(e,r,n)=>{n(1689),n(3825)},1689:(e,r,n)=>{window._=n(6486),window.axios=n(9669),window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest"},3825:(e,r,n)=>{"use strict";n.r(r);var t=n(7294),o=n(3935),a=n(5800);function i(e){return-1===e}function u(e,r,n,t,o){e-1>=0&&o(e-1,r),r-1>=0&&o(e,r-1),e-1>=0&&r-1>=0&&o(e-1,r-1),e+1<n&&o(e+1,r),r+1<t&&o(e,r+1),e+1<n&&r+1<t&&o(e+1,r+1),e-1>=0&&r+1<t&&o(e-1,r+1),e+1<n&&r-1>=0&&o(e+1,r-1)}function s(e,r,n){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:6;l(e,r,n);for(var o=0;o++<1e3;)try{return c(e,r,n,t)}catch(e){if(!(e instanceof f))throw e}throw new Error("Giving up trying to create the board, there are too many mines.")}function c(e,r,n,t){for(var o=0,a=function(e,r){for(var n=new Array(e),t=0;t<e;t++){n[t]=new Array(r);for(var o=0;o<r;o++)n[t][o]=0}return n}(e,r);o<n;){var s=Math.floor(Math.random()*e),c=Math.floor(Math.random()*r);i(a[s][c])||(a[s][c]=-1,o++,u(s,c,e,r,(function(e,r){if(!i(a[e][r])&&(a[e][r]++,a[e][r]>t))throw new f})))}return a}function l(e,r,n){if(e<6||r<6)throw new Error("The side should be bigger than 5");if(e*r>512)throw new Error("The board is too big. It should be less than 512 cells");if(e*r*.25<n)throw new Error("There are too many mines for this board.");if(.25*e>r||.25*r>e)throw new Error("One side is too small compared to the other.")}function f(){}function d(e){return e.map((function(e){return e.map((function(e){return{value:e,state:"covered"}}))}))}function m(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var t,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(t=n.next()).done)&&(a.push(t.value),!r||a.length!==r);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return p(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function h(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.defaultSeconds,a=void 0===o?0:o,i=(0,t.useState)(a),u=m(i,2),s=u[0],c=u[1];return(0,t.useEffect)((function(){if(e||a){var r=setInterval((function(){c((function(e){return e+1}))}),1e3);return function(){return clearInterval(r)}}}),[e]),(0,t.useEffect)((function(){r||a||c(0)}),[r]),[s,c]}function y(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var t,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(t=n.next()).done)&&(a.push(t.value),!r||a.length!==r);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}(e,r)||v(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,r){if(e){if("string"==typeof e)return w(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,r):void 0}}function w(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function g(e){return e.reduce((function(e,r){return e+r.reduce((function(e,r){return i(r.value)&&"flagged"!==r.state?e+1:e}),0)}),0)}function j(e){return function(e){switch(e){case"question":return String.fromCodePoint(10067);case"bomb":return String.fromCodePoint(128163);case"boom":return String.fromCodePoint(128165);case"triangular_flag":return String.fromCodePoint(128681);case"smiling_face_with_sunglasses":return String.fromCodePoint(128526);case"dizzy_face":return String.fromCodePoint(128565);case"neutral_face":return String.fromCodePoint(128528);case"cross_mark":return String.fromCodePoint(10060);default:throw Error("Emoji ".concat(e," not implemented"))}}(e.code)}var x=n(5893);function S(e){var r=e.cell;switch(r.state){case"covered":return" ";case"flagged":return(0,x.jsx)(j,{code:"triangular_flag"});case"question-mark":return(0,x.jsx)(j,{code:"question"});case"exploted":return(0,x.jsx)(j,{code:"boom"});case"uncovered":return i(r.value)?(0,x.jsx)(j,{code:"bomb"}):r.value||" ";case"wrong-flagged":return(0,x.jsx)(j,{code:"cross_mark"});default:throw Error("Cell state '".concat(r.state,"' not implemented"))}}function O(e){var r=e.gameState;switch(r){case"won":return(0,x.jsx)(j,{code:"smiling_face_with_sunglasses"});case!1:return(0,x.jsx)(j,{code:"neutral_face"});case"lose":return(0,x.jsx)(j,{code:"dizzy_face"});default:throw Error("Game state '".concat(r,"' not implemented"))}}function k(e){var r=e.boardDimensions,n=e.defaultBoard,o=e.saveBoard,a=e.deleteBoard,c=e.onGoBack,l=e.defaultSeconds,f=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.defaultBoard,o=void 0===n?null:n,a=r.defaultSeconds,c=void 0===a?0:a,l=e.width,f=e.height,m=e.mines,p=e.maxAdjacentMines,v=b((0,t.useState)((function(){return o||d(s(l,f,m))})),2),w=v[0],j=v[1],x=b((0,t.useState)(!1),2),S=x[0],O=x[1],k=b((0,t.useState)(!1),2),C=k[0],A=k[1],E=b((0,t.useState)(m),2),P=E[0],B=E[1],I=b(h(C,S,{defaultSeconds:c}),2),N=I[0],M=I[1];(0,t.useEffect)((function(){S?(A(!1),F()):B(m)}),[S]),(0,t.useEffect)((function(){for(var e=0;e<w.length;e++)for(var r=0;r<w[e].length;r++)if(!i(w[e][r].value)&&"uncovered"!==w[e][r].state)return;O("won")}),[w]),(0,t.useEffect)((function(){o||_()}),[l,f,m]),(0,t.useEffect)((function(){B(o?g(o):m)}),[m]);var D=(0,t.useCallback)((function(e,r){S||(A(!0),j((function(n){return T(n,e,r),y(n)})))}),[S,l,f]),_=(0,t.useCallback)((function(){j(d(s(l,f,m,p))),O(!1),A(!1),M(0)}),[l,f,m,p]),V=(0,t.useCallback)((function(e,r){S||j((function(n){var t=n[e][r];return"flagged"===t.state?(t.state="question-mark",B((function(e){return e+1}))):"covered"===t.state?(t.state="flagged",B((function(e){return e-1}))):"question-mark"===t.state&&(t.state="covered"),y(n)}))}),[S]);function T(e,r,n){G(e,r,n);var t=e[r][n];0===t.value&&"flagged"!==t.state&&u(r,n,l,f,(function(r,n){"uncovered"!==e[r][n].state&&T(e,r,n)}))}function F(){j((function(e){return e.forEach((function(r,n){return r.forEach((function(r,t){(i(r.value)||"flagged"===r.state)&&G(e,n,t)}))})),y(e)}))}function G(e,r,n){var t=e[r][n];i(t.value)&&"flagged"!==t.state&&!S?(t.state="exploted",O("lose")):["covered","question-mark"].includes(t.state)?t.state="uncovered":"flagged"===t.state&&!i(t.value)&&S&&(t.state="wrong-flagged")}return{board:w,uncover:D,restart:_,toogleFlag:V,seconds:N,minesCounter:P,gameEnded:S}}(r,{defaultBoard:n,defaultSeconds:void 0===l?0:l}),m=f.board,p=f.uncover,v=f.restart,w=f.toogleFlag,j=f.seconds,k=f.minesCounter,C=f.gameEnded;(0,t.useEffect)((function(){C&&a()}),[C,a]);var A=(0,t.useCallback)((function(e,r,n){e.preventDefault(),w(r,n)}),[w]),E=(0,t.useCallback)((function(){c(),C||o(m,r,j)}),[m,r,j,c,C]);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("span",{className:"menu-option",onClick:E,children:[" ","<"," Go Back & Save"]}),(0,x.jsx)("table",{className:"board",children:(0,x.jsxs)("tbody",{children:[(0,x.jsx)("tr",{children:(0,x.jsxs)("td",{className:"header",colSpan:m[0].length,children:[(0,x.jsx)("div",{className:"counter",style:{float:"left"},children:k}),(0,x.jsx)("div",{className:"counter",style:{float:"right"},children:j>999?999:j}),(0,x.jsx)("div",{className:"restarter",onClick:v,children:(0,x.jsx)(O,{gameState:C})})]})}),m.map((function(e,r){return(0,x.jsx)("tr",{children:e.map((function(e,n){return(0,x.jsx)("td",{className:"cell ".concat(e.state," cell-").concat(e.value),onClick:function(){return p(r,n)},onContextMenu:function(e){return A(e,r,n)},children:(0,x.jsx)(S,{cell:e})},"".concat(r,",").concat(n))}))},r)}))]})})]})}function C(e){var r=e.onContinue,n=e.onNewGame,t=e.canContinue;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("h4",{children:"Main Menu"}),(0,x.jsxs)("ul",{children:[t&&(0,x.jsx)("li",{children:(0,x.jsx)("span",{className:"menu-option",onClick:r,children:"Continue Game"})}),(0,x.jsx)("li",{children:(0,x.jsx)("span",{className:"menu-option",onClick:n,children:"New Game"})})]})]})}var A=["setBoardDimensions"];function E(e,r){if(null==e)return{};var n,t,o=function(e,r){if(null==e)return{};var n,t,o={},a=Object.keys(e);for(t=0;t<a.length;t++)n=a[t],r.indexOf(n)>=0||(o[n]=e[n]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)n=a[t],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function P(e){var r=e.boardDimensions,n=e.showForm,t=e.submit,o=e.maxAdjacentMines,a=void 0===o?8:o,i=r.setBoardDimensions,u=E(r,A);return(0,x.jsxs)("div",{className:n?"":"invisible",children:[(0,x.jsxs)("label",{htmlFor:"width",children:["Width",(0,x.jsx)("input",{type:"number",className:"dimension",name:"width",value:u.height,onChange:function(e){return i(u.width,e.target.value,u.mines,a)}})]}),(0,x.jsx)("br",{}),(0,x.jsxs)("label",{htmlFor:"height",children:["Height",(0,x.jsx)("input",{type:"number",className:"dimension",name:"height",value:u.width,onChange:function(e){return i(e.target.value,u.height,u.mines,a)}})]}),(0,x.jsx)("br",{}),(0,x.jsxs)("label",{htmlFor:"mines",children:["Mines",(0,x.jsx)("input",{type:"number",className:"dimension",name:"mines",value:u.mines,onChange:function(e){return i(u.width,u.height,e.target.value,a)}})]}),(0,x.jsx)("button",{onClick:t,className:"py-4",style:{display:"block"},children:"Submit"})]})}function B(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var t,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(t=n.next()).done)&&(a.push(t.value),!r||a.length!==r);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return I(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function N(e){var r=e.onBoardView,n=e.dimensions,o=B((0,t.useState)(!1),2),a=o[0],i=o[1],u=n.setBoardDimensions,s=(0,t.useCallback)((function(e,n,t,o){u(e,n,t,o),r()}),[u,r]);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("h4",{children:"New Game"}),(0,x.jsxs)("ul",{children:[(0,x.jsx)("li",{children:(0,x.jsx)("span",{className:"menu-option",onClick:function(){return s(8,8,10)},children:"Beginner"})}),(0,x.jsx)("li",{children:(0,x.jsx)("span",{className:"menu-option",onClick:function(){return s(16,16,40)},children:"Intermediate"})}),(0,x.jsx)("li",{children:(0,x.jsx)("span",{className:"menu-option",onClick:function(){return s(16,30,99,8)},children:"Expert"})}),(0,x.jsx)("li",{children:(0,x.jsx)("span",{className:"menu-option",onClick:function(){return i((function(e){return!e}))},children:"Custom"})})]}),(0,x.jsx)(P,{boardDimensions:n,showForm:a,submit:r})]})}function M(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var t,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(t=n.next()).done)&&(a.push(t.value),!r||a.length!==r);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return D(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}var _=n(7757),V=n.n(_),T=n(3653),F=n(9669),G=n.n(F),z=n(129),q=n.n(z);function U(e,r,n,t,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?r(s):Promise.resolve(s).then(t,o)}function J(e){return function(){var r=this,n=arguments;return new Promise((function(t,o){var a=e.apply(r,n);function i(e){U(a,t,o,i,u,"next",e)}function u(e){U(a,t,o,i,u,"throw",e)}i(void 0)}))}}function $(e){return H.apply(this,arguments)}function H(){return(H=J(V().mark((function e(r){var n,t,o,a,i,u,s,c,l;return V().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.url,t=r.method,o=void 0===t?"GET":t,a=r.params,i=void 0===a?{}:a,u=r.body,s=void 0===u?{}:u,c=r.headers,l=void 0===c?{}:c,e.abrupt("return",R({url:n,method:o,params:i,data:s,headers:l}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var R=G().create({baseURL:"/api/",headers:{Accept:"application/vnd.api+json","Content-Type":"application/vnd.api+json"},paramsSerializer:function(e){return q().stringify(e,{arrayFormat:"comma"})},validateStatus:function(e){return e>=200&&e<300}}),L=["url","body"],W=["url","body"],X=["url","params"],K=["url"];function Q(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function Y(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?Q(Object(n),!0).forEach((function(r){Z(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function Z(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function ee(e,r){if(null==e)return{};var n,t,o=function(e,r){if(null==e)return{};var n,t,o={},a=Object.keys(e);for(t=0;t<a.length;t++)n=a[t],r.indexOf(n)>=0||(o[n]=e[n]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)n=a[t],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function re(e,r,n,t,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?r(s):Promise.resolve(s).then(t,o)}function ne(e){return function(){var r=this,n=arguments;return new Promise((function(t,o){var a=e.apply(r,n);function i(e){re(a,t,o,i,u,"next",e)}function u(e){re(a,t,o,i,u,"throw",e)}i(void 0)}))}}function te(e){return oe.apply(this,arguments)}function oe(){return(oe=ne(V().mark((function e(r){var n,t,o,a;return V().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.url,t=r.body,o=ee(r,L),e.next=3,$(Y({url:n,method:"POST",body:t},o));case 3:return a=e.sent,e.abrupt("return",me(a));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e){return ie.apply(this,arguments)}function ie(){return(ie=ne(V().mark((function e(r){var n,t,o,a;return V().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.url,t=r.body,o=ee(r,W),e.next=3,$(Y({url:n,method:"PATCH",body:t},o));case 3:return a=e.sent,e.abrupt("return",me(a));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(e){return se.apply(this,arguments)}function se(){return(se=ne(V().mark((function e(r){var n,t,o,a,i;return V().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.url,t=r.params,o=void 0===t?{}:t,a=ee(r,X),e.next=3,$({url:n,params:o,options:a});case 3:return i=e.sent,e.abrupt("return",me(i));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(e){return le.apply(this,arguments)}function le(){return(le=ne(V().mark((function e(r){var n,t;return V().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.url,t=ee(r,K),e.next=3,$({url:n,method:"DELETE",options:t});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fe(e){return de.apply(this,arguments)}function de(){return(de=ne(V().mark((function e(r){var n;return V().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={keyForAttribute:"camelCase"},e.abrupt("return",new T.Deserializer(n).deserialize(r));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function me(e){return pe.apply(this,arguments)}function pe(){return(pe=ne(V().mark((function e(r){return V().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.data||r.data.errors){e.next=4;break}return e.next=3,fe(r.data);case 3:r.data.data=e.sent;case 4:return e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function he(e,r,n,t,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?r(s):Promise.resolve(s).then(t,o)}function ye(e){return function(){var r=this,n=arguments;return new Promise((function(t,o){var a=e.apply(r,n);function i(e){he(a,t,o,i,u,"next",e)}function u(e){he(a,t,o,i,u,"throw",e)}i(void 0)}))}}function be(){return(be=ye(V().mark((function e(r){var n,t,o,a,i,u;return V().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.board,t=r.browserId,o=r.seconds,a=r.dimensions,n=JSON.stringify(n),a=JSON.stringify(a),i=je({board:n,browser_id:t,seconds:o,dimensions:a}),e.next=6,te({url:"v1/boards",body:i});case 6:return(u=e.sent).data&&u.data.data&&(u.data.data=xe(u.data.data)),e.abrupt("return",u);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ve(){return(ve=ye(V().mark((function e(r){var n,t,o,a,i,u,s,c;return V().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.id,t=r.board,o=r.seconds,a=r.dimensions,i=r.browserId,u=void 0===i?void 0:i,t=JSON.stringify(t),a=JSON.stringify(a),s=je({id:n,board:t,dimensions:a,seconds:o,browser_id:u}),e.next=6,ae({url:"v1/boards/".concat(n),body:s});case 6:return(c=e.sent).data&&c.data.data&&(c.data.data=xe(c.data.data)),e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(){return(we=ye(V().mark((function e(r){var n,t;return V().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={filter:r},e.next=3,ue({url:"v1/boards",params:n});case 3:return(t=e.sent).data&&t.data.data&&(t.data.data=t.data.data.map((function(e){return xe(e)}))),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ge(){return(ge=ye(V().mark((function e(r){return V().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ce({url:"v1/boards/".concat(r)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function je(e){return new T.Serializer("boards",{keyForAttribute:"snake_case",attributes:["board","browser_id","seconds","dimensions"]}).serialize(e)}function xe(e){return e.board=JSON.parse(e.board),e.dimensions=JSON.parse(e.dimensions),e}function Se(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var t,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(t=n.next()).done)&&(a.push(t.value),!r||a.length!==r);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return Oe(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oe(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oe(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function ke(e){var r=Se((0,t.useState)(null),2),n=r[0],o=r[1];(0,t.useEffect)((function(){(function(e){return we.apply(this,arguments)})({browser_id:e}).then((function(e){return o(e.data.data[0])})).catch((function(e){return console.error(e)}))}),[]);var a=(0,t.useCallback)((function(r,t,a){(n&&n.id?function(e){return ve.apply(this,arguments)}({id:n.id,board:r,dimensions:t,seconds:a}):function(e){return be.apply(this,arguments)}({board:r,dimensions:t,seconds:a,browserId:e})).then((function(e){return o(e.data.data)})).catch((function(e){return console.error(e)}))}),[n,e]),i=(0,t.useCallback)((function(){n&&n.id&&function(e){return ge.apply(this,arguments)}(n.id).then((function(){return o(null)})).catch((function(e){return console.error(e)}))}),[n]);return{board:n,saveBoard:a,deleteBoard:i}}function Ce(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function Ae(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?Ce(Object(n),!0).forEach((function(r){Ee(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function Ee(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Pe(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var t,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(t=n.next()).done)&&(a.push(t.value),!r||a.length!==r);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return Be(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Be(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Be(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}var Ie="main",Ne="continue",Me="new-game",De="board";function _e(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.defaultWidth,n=void 0===r?8:r,o=e.defaultHeight,a=void 0===o?8:o,i=e.defaultMines,u=void 0===i?10:i,s=e.defaultMaxAdjacentMines,c=void 0===s?6:s,l=M((0,t.useState)(n),2),f=l[0],d=l[1],m=M((0,t.useState)(a),2),p=m[0],h=m[1],y=M((0,t.useState)(u),2),b=y[0],v=y[1],w=M((0,t.useState)(c),2),g=w[0],j=w[1],x=(0,t.useCallback)((function(e,r,n){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:6;d(e),h(r),v(n),j(t)}),[]);return{width:f,height:p,mines:b,maxAdjacentMines:g,setBoardDimensions:x}}(),r=ke(window.browserId),n=r.board,o=r.saveBoard,i=r.deleteBoard,u=function(e,r){var n=Pe((0,t.useState)(Ie),2),o=n[0],a=n[1],i=(0,t.useMemo)((function(){return"continue"!==o?r:Ae(Ae({},e.dimensions),{},{setBoardDimensions:r.setBoardDimensions})}),[o]),u=(0,t.useMemo)((function(){return"continue"===o?e.board:null}),[o]),s=(0,t.useMemo)((function(){return"continue"===o?e.seconds:0}),[o]),c=(0,t.useMemo)((function(){return function(){return a(Ie)}}),[]),l=(0,t.useMemo)((function(){return function(){return a(Ne)}}),[]),f=(0,t.useMemo)((function(){return function(){return a(Me)}}),[]),d=(0,t.useMemo)((function(){return function(){return a(De)}}),[]);return{view:o,defaultDimensions:i,defaultBoard:u,defaultSeconds:s,setMainView:c,setContinueVew:l,setNewGameView:f,setBoardView:d,mainView:Ie,continueView:Ne,newGameView:Me,boardView:De}}(n,e),s=u.setContinueVew,c=u.setNewGameView,l=u.setBoardView,f=u.setMainView;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("h1",{children:"Minesweeper"}),(0,x.jsx)("h3",{children:(0,x.jsx)("i",{children:"by: Enmy Perez"})}),u.view===u.mainView&&(0,x.jsx)(C,{onContinue:s,onNewGame:c,canContinue:n}),u.view===u.newGameView&&(0,x.jsx)(N,{onBoardView:l,dimensions:e}),[u.boardView,u.continueView].includes(u.view)&&(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(a.ErrorBoundary,{fallbackRender:function(e){var r=e.error,n=e.resetErrorBoundary;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("span",{className:"menu-option",onClick:f,children:[" ","<"," Go Back"]}),(0,x.jsxs)("div",{style:{marginTop:"4em",marginBottom:"4em"},children:[(0,x.jsx)("h3",{style:{color:"red"},children:r.message}),(0,x.jsx)("button",{onClick:n,className:"py-4",children:"Try again"})]})]})},children:(0,x.jsx)(k,{boardDimensions:u.defaultDimensions,defaultBoard:u.defaultBoard,saveBoard:o,deleteBoard:i,defaultSeconds:u.defaultSeconds,onGoBack:f})})})]})}document.getElementById("root")&&o.render((0,x.jsx)(_e,{}),document.getElementById("root"))},9662:()=>{}},e=>{"use strict";var r=r=>e(e.s=r);e.O(0,[170,898],(()=>(r(7080),r(9662))));e.O()}]);
//# sourceMappingURL=app.js.map