{"version":3,"sources":["webpack:///./resources/js/app.js","webpack:///./resources/js/bootstrap.js","webpack:///./resources/js/core/isMine.js","webpack:///./resources/js/core/mineValue.js","webpack:///./resources/js/core/visitAdjacent.js","webpack:///./resources/js/core/createBoard.js","webpack:///./resources/js/core/initBoard.js","webpack:///./resources/js/hooks/useBoard.js","webpack:///./resources/js/components/Emoji.jsx","webpack:///./resources/js/components/CellEmoji.jsx","webpack:///./resources/js/components/GameStateEmoji.jsx","webpack:///./resources/js/components/Board.jsx","webpack:///./resources/js/components/CustomDimensionsForm.jsx","webpack:///./resources/js/App.jsx","webpack:///./resources/js/hooks/useBoardDimensions.js","webpack:///./resources/js/index.js"],"names":["require","window","_","axios","defaults","headers","common","isMine","value","visitAdjacent","x","y","width","height","fn","createBoard","mines","Error","validateBoard","tooManyTries","doCreateBoard","error","CellWithTooManyAdjacentException","placedMines","board","Array","createEmptyBoard","xTarget","Math","floor","random","yTarget","initBoard","boardValues","map","row","cell","state","useBoard","dimensions","useState","setBoard","gameEnded","setGameEnded","seconds","setSeconds","runTimer","setRunTimer","minesCounter","setMinesCounter","useEffect","interval","setInterval","clearInterval","forEach","rowIndex","columnIndex","uncoverCell","i","length","j","restart","uncover","useCallback","uncoverRecursively","toogleFlag","e","preventDefault","includes","Emoji","code","String","fromCodePoint","emojiFromCodePoint","CellEmoji","GameStateEmoji","gameState","Board","boardDimensions","className","colSpan","style","float","onClick","onContextMenu","CustomDimensionsForm","showForm","setBoardDimensions","htmlFor","type","name","onChange","target","App","setShowForm","defaultWidth","defaultHeight","defaultMines","setWidth","setHeight","setMines","useBoardDimensions","ErrorBoundary","fallbackRender","resetErrorBoundary","marginTop","marginBottom","color","message","show","document","getElementById","ReactDOM"],"mappings":"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","file":"/js/app.js","sourcesContent":["require('./bootstrap')\nrequire('./index')\n","window._ = require('lodash');\n\n/**\n * We'll load the axios HTTP library which allows us to easily issue requests\n * to our Laravel back-end. This library automatically handles sending the\n * CSRF token as a header based on the value of the \"XSRF\" token cookie.\n */\n\nwindow.axios = require('axios');\n\nwindow.axios.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest';\n\n/**\n * Echo exposes an expressive API for subscribing to channels and listening\n * for events that are broadcast by Laravel. Echo and event broadcasting\n * allows your team to easily build robust real-time web applications.\n */\n\n// import Echo from 'laravel-echo';\n\n// window.Pusher = require('pusher-js');\n\n// window.Echo = new Echo({\n//     broadcaster: 'pusher',\n//     key: process.env.MIX_PUSHER_APP_KEY,\n//     cluster: process.env.MIX_PUSHER_APP_CLUSTER,\n//     forceTLS: true\n// });\n","import mineValue from './mineValue'\n\nexport default function isMine (value) {\n  return value === mineValue()\n}\n","export default function mineValue () {\n  return -1\n}\n","export default function visitAdjacent (x, y, width, height, fn) {\n  if (x - 1 >= 0) {\n    fn(x - 1, y)\n  }\n  if (y - 1 >= 0) {\n    fn(x, y - 1)\n  }\n  if (x - 1 >= 0 && y - 1 >= 0) {\n    fn(x - 1, y - 1)\n  }\n  if (x + 1 < width) {\n    fn(x + 1, y)\n  }\n  if (y + 1 < height) {\n    fn(x, y + 1)\n  }\n  if (x + 1 < width && y + 1 < height) {\n    fn(x + 1, y + 1)\n  }\n  if (x - 1 >= 0 && y + 1 < height) {\n    fn(x - 1, y + 1)\n  }\n  if (x + 1 < width && y - 1 >= 0) {\n    fn(x + 1, y - 1)\n  }\n}\n","import isMine from './isMine'\nimport mineValue from './mineValue'\nimport visitAdjacent from './visitAdjacent'\n\nexport default function createBoard (width, height, mines) {\n  validateBoard(width, height, mines)\n\n  let tooManyTries = 0\n  while (tooManyTries++ < 1000) {\n    try {\n      return doCreateBoard(width, height, mines)\n    } catch (error) {\n      if (!(error instanceof CellWithTooManyAdjacentException)) {\n        throw error\n      }\n    }\n  }\n\n  throw new Error('Giving up trying to create the board, there are too many mines.')\n}\n\nfunction doCreateBoard (width, height, mines) {\n  let placedMines = 0\n  const board = createEmptyBoard(width, height)\n\n  while (placedMines < mines) {\n    const xTarget = Math.floor(Math.random() * width)\n    const yTarget = Math.floor(Math.random() * height)\n\n    if (!isMine(board[xTarget][yTarget])) {\n      board[xTarget][yTarget] = mineValue()\n      placedMines++\n\n      visitAdjacent(xTarget, yTarget, width, height, (x, y) => {\n        if (!isMine(board[x][y])) {\n          board[x][y]++\n          if (board[x][y] > 6) {\n            throw new CellWithTooManyAdjacentException()\n          }\n        }\n      })\n    }\n  }\n  return board\n}\n\nfunction validateBoard (width, height, mines) {\n  if (width < 6 || height < 6) {\n    throw new Error('The side should be bigger than 5')\n  }\n  if (width * height > 512) {\n    throw new Error('The board is too big. It should be less than 512 cells')\n  }\n  if (width * height * 0.25 < mines) {\n    throw new Error('There are too many mines for this board.')\n  }\n  if (width * 0.25 > height || height * 0.25 > width) {\n    throw new Error('One side is too small compared to the other.')\n  }\n}\n\nfunction createEmptyBoard (width, height) {\n  const board = new Array(width)\n  for (let x = 0; x < width; x++) {\n    board[x] = new Array(height)\n    for (let y = 0; y < height; y++) {\n      board[x][y] = 0\n    }\n  }\n  return board\n}\n\nfunction CellWithTooManyAdjacentException () {}\n","export default function initBoard (boardValues) {\n  return boardValues.map(row => (\n    row.map(cell => ({\n      value: cell,\n      state: 'covered'\n    }))\n  ))\n}\n","import { useCallback, useEffect, useState } from 'react'\nimport createBoard from '../core/createBoard'\nimport initBoard from '../core/initBoard'\nimport isMine from '../core/isMine'\nimport visitAdjacent from '../core/visitAdjacent'\n\nexport default function useBoard (dimensions) {\n  const { width, height, mines } = dimensions\n  const [board, setBoard] = useState(() => initBoard(createBoard(width, height, mines)))\n  const [gameEnded, setGameEnded] = useState(false)\n  const [seconds, setSeconds] = useState(0)\n  const [runTimer, setRunTimer] = useState(false)\n  const [minesCounter, setMinesCounter] = useState(mines)\n\n  useEffect(() => {\n    if (!runTimer) {\n      return\n    }\n\n    const interval = setInterval(() => {\n      setSeconds(seconds => seconds + 1)\n    }, 1000)\n\n    return () => clearInterval(interval)\n  }, [runTimer])\n\n  useEffect(() => {\n    if (gameEnded) {\n      setRunTimer(false)\n      uncoverAllMines()\n    } else {\n      setSeconds(0)\n      setMinesCounter(mines)\n    }\n  }, [gameEnded])\n\n  useEffect(() => {\n    for (let i = 0; i < board.length; i++) {\n      for (let j = 0; j < board[i].length; j++) {\n        if (!isMine(board[i][j].value) && board[i][j].state !== 'uncovered') {\n          return\n        }\n      }\n    }\n    setGameEnded('won')\n  }, [board])\n\n  useEffect(() => {\n    restart()\n  }, [width, height, mines])\n\n  useEffect(() => {\n    setMinesCounter(mines)\n  }, [mines])\n\n  const uncover = useCallback((x, y) => {\n    if (gameEnded) {\n      return\n    }\n\n    setRunTimer(true)\n\n    setBoard(board => {\n      uncoverRecursively(board, x, y)\n      return [...board]\n    })\n  }, [gameEnded])\n\n  const restart = useCallback(() => {\n    setBoard(initBoard(createBoard(width, height, mines)))\n    setGameEnded(false)\n  }, [width, height, mines])\n\n  const toogleFlag = useCallback((e, xTarget, yTarget) => {\n    e.preventDefault()\n\n    if (gameEnded) {\n      return\n    }\n\n    setBoard(board => {\n      const cell = board[xTarget][yTarget]\n      if (cell.state === 'flagged') {\n        cell.state = 'question-mark'\n        setMinesCounter(mines => mines + 1)\n      } else if (cell.state === 'covered') {\n        cell.state = 'flagged'\n        setMinesCounter(mines => mines - 1)\n      } else if (cell.state === 'question-mark') {\n        cell.state = 'covered'\n      }\n      return [...board]\n    })\n  }, [])\n\n  function uncoverRecursively (board, xTarget, yTarget) {\n    uncoverCell(board, xTarget, yTarget)\n\n    const cell = board[xTarget][yTarget]\n    if (isMine(cell.value)) {\n      cell.state = 'exploted'\n      setGameEnded('lose')\n    }\n\n    if (cell.value === 0) {\n      visitAdjacent(xTarget, yTarget, width, height, (x, y) => {\n        if (board[x][y].state !== 'uncovered') {\n          uncoverRecursively(board, x, y)\n        }\n      })\n    }\n  }\n\n  function uncoverAllMines () {\n    setBoard(board => {\n      board.forEach((row, rowIndex) => (\n        row.forEach((cell, columnIndex) => {\n          if (isMine(cell.value)) {\n            uncoverCell(board, rowIndex, columnIndex)\n          }\n        })\n      ))\n      return [...board]\n    })\n  }\n\n  function uncoverCell (board, xTarget, yTarget) {\n    const cell = board[xTarget][yTarget]\n    // TODO: add state for flagged errors or asertions\n    if (['covered', 'question-mark'].includes(cell.state)) {\n      cell.state = 'uncovered'\n    }\n  }\n\n  return {\n    board,\n    uncover,\n    restart,\n    toogleFlag,\n    seconds,\n    minesCounter,\n    gameEnded\n  }\n}\n","export default function Emoji ({ code }) {\n  return emojiFromCodePoint(code)\n}\n\nfunction emojiFromCodePoint (code) {\n  switch (code) {\n    case 'question':\n      return String.fromCodePoint(0x2753)\n\n    case 'bomb':\n      return String.fromCodePoint(0x1F4A3)\n\n    case 'boom':\n      return String.fromCodePoint(0x1F4A5)\n\n    case 'triangular_flag':\n      return String.fromCodePoint(0x1F6A9)\n\n    case 'smiling_face_with_sunglasses':\n      return String.fromCodePoint(0x1F60E)\n\n    case 'dizzy_face':\n      return String.fromCodePoint(0x1F635)\n\n    case 'neutral_face':\n      return String.fromCodePoint(0x1F610)\n\n    default:\n      throw Error(`Emoji ${code} not implemented`)\n  }\n}\n","import React from 'react'\nimport isMine from '../core/isMine'\nimport Emoji from './Emoji'\n\nexport default function CellEmoji ({ cell }) {\n  switch (cell.state) {\n    case 'covered':\n      return ' '\n\n    case 'flagged':\n      return <Emoji code='triangular_flag' />\n\n    case 'question-mark':\n      return <Emoji code='question' />\n\n    case 'exploted':\n      return <Emoji code='boom' />\n\n    case 'uncovered':\n      return isMine(cell.value) ? <Emoji code='bomb' /> : (cell.value || ' ')\n\n    default:\n      throw Error(`Cell state '${cell.state}' not implemented`)\n  }\n}\n","import React from 'react'\nimport Emoji from './Emoji'\n\nexport default function GameStateEmoji ({ gameState }) {\n  switch (gameState) {\n    case 'won':\n      return <Emoji code='smiling_face_with_sunglasses' />\n\n    case false:\n      return <Emoji code='neutral_face' />\n\n    case 'lose':\n      return <Emoji code='dizzy_face' />\n\n    default:\n      throw Error(`Game state '${gameState}' not implemented`)\n  }\n}\n","import React from 'react'\nimport useBoard from '../hooks/useBoard'\nimport CellEmoji from './CellEmoji'\nimport GameStateEmoji from './GameStateEmoji'\n\nexport default function Board ({ boardDimensions }) {\n  const { board, uncover, restart, toogleFlag, seconds, minesCounter, gameEnded } = useBoard(boardDimensions)\n\n  return (\n    <table className='board'>\n      <tbody>\n        <tr>\n          <td className='header' colSpan={board[0].length}>\n            <div className='counter' style={{ float: 'left' }}>{minesCounter}</div>\n            <div className='counter' style={{ float: 'right' }}>{seconds > 999 ? 999 : seconds}</div>\n            <div className='restarter' onClick={restart}>\n              <GameStateEmoji gameState={gameEnded} />\n            </div>\n          </td>\n        </tr>\n        {board.map((row, rowIndex) => (\n          <tr key={rowIndex}>\n            {row.map((cell, columnIndex) => (\n              <td\n                key={`${rowIndex},${columnIndex}`}\n                className={`cell ${cell.state}`}\n                onClick={() => uncover(rowIndex, columnIndex)}\n                onContextMenu={e => toogleFlag(e, rowIndex, columnIndex)}\n              >\n                <CellEmoji cell={cell} />\n              </td>\n            ))}\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  )\n}\n","import React from 'react'\n\nexport default function CustomDimensionsForm ({ boardDimensions, showForm }) {\n  const { setBoardDimensions, ...dimensions } = boardDimensions\n\n  return (\n    <div className={showForm ? '' : 'invisible'}>\n      <label htmlFor='width'>\n        Width\n        <input\n          type='number'\n          className='dimension'\n          name='width'\n          value={dimensions.height}\n          onChange={e => setBoardDimensions(dimensions.width, e.target.value, dimensions.mines)}\n        />\n      </label>\n      <br />\n      <label htmlFor='height'>\n        Height\n        <input\n          type='number'\n          className='dimension'\n          name='height'\n          value={dimensions.width}\n          onChange={e => setBoardDimensions(e.target.value, dimensions.height, dimensions.mines)}\n        />\n      </label>\n      <br />\n      <label htmlFor='mines'>\n        Mines\n        <input\n          type='number'\n          className='dimension'\n          name='mines'\n          value={dimensions.mines}\n          onChange={e => setBoardDimensions(dimensions.width, dimensions.height, e.target.value)}\n        />\n      </label>\n    </div>\n  )\n}\n","import React, { useState } from 'react'\nimport { ErrorBoundary } from 'react-error-boundary'\nimport Board from './components/Board'\nimport CustomDimensionsForm from './components/CustomDimensionsForm'\nimport useBoardDimensions from './hooks/useBoardDimensions'\n\nexport default function App () {\n  const [showForm, setShowForm] = useState(false)\n  const boardDimensions = useBoardDimensions()\n  const { setBoardDimensions } = boardDimensions\n\n  return (\n    <>\n      <h1>Minesweeper</h1>\n      <h3><i>by: Enmy Perez</i></h3>\n      <ErrorBoundary\n        fallbackRender={({ error, resetErrorBoundary }) => (\n          <div style={{ marginTop: '4em', marginBottom: '4em' }}>\n            <h3 style={{ color: 'red' }}>{error.message}</h3>\n            <button onClick={resetErrorBoundary} className='py-4'>Try again</button>\n          </div>\n        )}\n      >\n        <Board boardDimensions={boardDimensions} />\n      </ErrorBoundary>\n      <div>\n        <span className='level-selector' onClick={() => setBoardDimensions(8, 8, 10)}>Beginner</span>\n        <span className='level-selector' onClick={() => setBoardDimensions(16, 16, 40)}>Intermediate</span>\n        <span className='level-selector' onClick={() => setBoardDimensions(16, 30, 99)}>Expert</span>\n        <span className='level-selector' onClick={() => setShowForm(show => !show)}>Custom</span>\n      </div>\n      <CustomDimensionsForm\n        boardDimensions={boardDimensions}\n        showForm={showForm}\n      />\n    </>\n  )\n}\n","import { useCallback, useState } from 'react'\n\nexport default function useBoardDimensions ({ defaultWidth = 8, defaultHeight = 8, defaultMines = 10 } = {}) {\n  const [width, setWidth] = useState(defaultWidth)\n  const [height, setHeight] = useState(defaultHeight)\n  const [mines, setMines] = useState(defaultMines)\n\n  const setBoardDimensions = useCallback((width, height, mines) => {\n    setWidth(width)\n    setHeight(height)\n    setMines(mines)\n  }, [])\n\n  return {\n    width,\n    height,\n    mines,\n    setBoardDimensions\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nif (document.getElementById('root')) {\n  ReactDOM.render(<App />, document.getElementById('root'))\n}\n"],"sourceRoot":""}