{"version":3,"sources":["webpack:///./resources/js/app.js","webpack:///./resources/js/bootstrap.js","webpack:///./resources/js/core/isMine.js","webpack:///./resources/js/core/mineValue.js","webpack:///./resources/js/core/visitAdjacent.js","webpack:///./resources/js/core/createBoard.js","webpack:///./resources/js/core/initBoard.js","webpack:///./resources/js/components/Emoji.jsx","webpack:///./resources/js/components/CellEmoji.jsx","webpack:///./resources/js/components/GameStateEmoji.jsx","webpack:///./resources/js/components/Board.jsx","webpack:///./resources/js/hooks/useBoard.js","webpack:///./resources/js/components/CustomDimensionsForm.jsx","webpack:///./resources/js/App.jsx","webpack:///./resources/js/hooks/useBoardDimensions.js","webpack:///./resources/js/index.js"],"names":["require","window","_","axios","defaults","headers","common","isMine","value","visitAdjacent","x","y","width","height","fn","createBoard","mines","maxAdjacentMines","validateBoard","tooManyTries","doCreateBoard","error","CellWithTooManyAdjacentException","Error","placedMines","board","Array","createEmptyBoard","xTarget","Math","floor","random","yTarget","initBoard","boardValues","map","row","cell","state","Emoji","code","String","fromCodePoint","emojiFromCodePoint","CellEmoji","GameStateEmoji","gameState","Board","dimensions","defaultBoard","useState","setBoard","gameEnded","setGameEnded","seconds","setSeconds","runTimer","setRunTimer","minesCounter","setMinesCounter","useEffect","interval","setInterval","clearInterval","uncoverAllMines","i","length","j","restart","uncover","useCallback","uncoverRecursively","toogleFlag","uncoverCell","forEach","rowIndex","columnIndex","includes","useBoard","boardDimensions","handleToogleFlag","e","preventDefault","className","colSpan","style","float","onClick","onContextMenu","CustomDimensionsForm","showForm","setBoardDimensions","htmlFor","type","name","onChange","target","App","setShowForm","defaultWidth","defaultHeight","defaultMines","defaultMaxAdjacentMines","setWidth","setHeight","setMines","setMaxAdjacentMines","useBoardDimensions","ErrorBoundary","fallbackRender","resetErrorBoundary","marginTop","marginBottom","color","message","show","document","getElementById","ReactDOM"],"mappings":"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","file":"/js/app.js","sourcesContent":["require('./bootstrap')\nrequire('./index')\n","window._ = require('lodash');\n\n/**\n * We'll load the axios HTTP library which allows us to easily issue requests\n * to our Laravel back-end. This library automatically handles sending the\n * CSRF token as a header based on the value of the \"XSRF\" token cookie.\n */\n\nwindow.axios = require('axios');\n\nwindow.axios.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest';\n\n/**\n * Echo exposes an expressive API for subscribing to channels and listening\n * for events that are broadcast by Laravel. Echo and event broadcasting\n * allows your team to easily build robust real-time web applications.\n */\n\n// import Echo from 'laravel-echo';\n\n// window.Pusher = require('pusher-js');\n\n// window.Echo = new Echo({\n//     broadcaster: 'pusher',\n//     key: process.env.MIX_PUSHER_APP_KEY,\n//     cluster: process.env.MIX_PUSHER_APP_CLUSTER,\n//     forceTLS: true\n// });\n","import mineValue from './mineValue'\n\nexport default function isMine (value) {\n  return value === mineValue()\n}\n","export default function mineValue () {\n  return -1\n}\n","export default function visitAdjacent (x, y, width, height, fn) {\n  if (x - 1 >= 0) {\n    fn(x - 1, y)\n  }\n  if (y - 1 >= 0) {\n    fn(x, y - 1)\n  }\n  if (x - 1 >= 0 && y - 1 >= 0) {\n    fn(x - 1, y - 1)\n  }\n  if (x + 1 < width) {\n    fn(x + 1, y)\n  }\n  if (y + 1 < height) {\n    fn(x, y + 1)\n  }\n  if (x + 1 < width && y + 1 < height) {\n    fn(x + 1, y + 1)\n  }\n  if (x - 1 >= 0 && y + 1 < height) {\n    fn(x - 1, y + 1)\n  }\n  if (x + 1 < width && y - 1 >= 0) {\n    fn(x + 1, y - 1)\n  }\n}\n","import isMine from './isMine'\nimport mineValue from './mineValue'\nimport visitAdjacent from './visitAdjacent'\n\nexport default function createBoard (width, height, mines, maxAdjacentMines = 6) {\n  validateBoard(width, height, mines)\n\n  let tooManyTries = 0\n  while (tooManyTries++ < 1000) {\n    try {\n      return doCreateBoard(width, height, mines, maxAdjacentMines)\n    } catch (error) {\n      if (!(error instanceof CellWithTooManyAdjacentException)) {\n        throw error\n      }\n    }\n  }\n\n  throw new Error('Giving up trying to create the board, there are too many mines.')\n}\n\nfunction doCreateBoard (width, height, mines, maxAdjacentMines) {\n  let placedMines = 0\n  const board = createEmptyBoard(width, height)\n\n  while (placedMines < mines) {\n    const xTarget = Math.floor(Math.random() * width)\n    const yTarget = Math.floor(Math.random() * height)\n\n    if (!isMine(board[xTarget][yTarget])) {\n      board[xTarget][yTarget] = mineValue()\n      placedMines++\n\n      visitAdjacent(xTarget, yTarget, width, height, (x, y) => {\n        if (!isMine(board[x][y])) {\n          board[x][y]++\n          if (board[x][y] > maxAdjacentMines) {\n            throw new CellWithTooManyAdjacentException()\n          }\n        }\n      })\n    }\n  }\n  return board\n}\n\nfunction validateBoard (width, height, mines) {\n  if (width < 6 || height < 6) {\n    throw new Error('The side should be bigger than 5')\n  }\n  if (width * height > 512) {\n    throw new Error('The board is too big. It should be less than 512 cells')\n  }\n  if (width * height * 0.25 < mines) {\n    throw new Error('There are too many mines for this board.')\n  }\n  if (width * 0.25 > height || height * 0.25 > width) {\n    throw new Error('One side is too small compared to the other.')\n  }\n}\n\nfunction createEmptyBoard (width, height) {\n  const board = new Array(width)\n  for (let x = 0; x < width; x++) {\n    board[x] = new Array(height)\n    for (let y = 0; y < height; y++) {\n      board[x][y] = 0\n    }\n  }\n  return board\n}\n\nfunction CellWithTooManyAdjacentException () {}\n","export default function initBoard (boardValues) {\n  return boardValues.map(row => (\n    row.map(cell => ({\n      value: cell,\n      state: 'covered'\n    }))\n  ))\n}\n","export default function Emoji ({ code }) {\n  return emojiFromCodePoint(code)\n}\n\nfunction emojiFromCodePoint (code) {\n  switch (code) {\n    case 'question':\n      return String.fromCodePoint(0x2753)\n\n    case 'bomb':\n      return String.fromCodePoint(0x1F4A3)\n\n    case 'boom':\n      return String.fromCodePoint(0x1F4A5)\n\n    case 'triangular_flag':\n      return String.fromCodePoint(0x1F6A9)\n\n    case 'smiling_face_with_sunglasses':\n      return String.fromCodePoint(0x1F60E)\n\n    case 'dizzy_face':\n      return String.fromCodePoint(0x1F635)\n\n    case 'neutral_face':\n      return String.fromCodePoint(0x1F610)\n\n    case 'cross_mark':\n      return String.fromCodePoint(0x274C)\n\n    default:\n      throw Error(`Emoji ${code} not implemented`)\n  }\n}\n","import React from 'react'\nimport isMine from '../core/isMine'\nimport Emoji from './Emoji'\n\nexport default function CellEmoji ({ cell }) {\n  switch (cell.state) {\n    case 'covered':\n      return ' '\n\n    case 'flagged':\n      return <Emoji code='triangular_flag' />\n\n    case 'question-mark':\n      return <Emoji code='question' />\n\n    case 'exploted':\n      return <Emoji code='boom' />\n\n    case 'uncovered':\n      return isMine(cell.value) ? <Emoji code='bomb' /> : (cell.value || ' ')\n\n    case 'wrong-flagged':\n      return <Emoji code='cross_mark' />\n\n    default:\n      throw Error(`Cell state '${cell.state}' not implemented`)\n  }\n}\n","import React from 'react'\nimport Emoji from './Emoji'\n\nexport default function GameStateEmoji ({ gameState }) {\n  switch (gameState) {\n    case 'won':\n      return <Emoji code='smiling_face_with_sunglasses' />\n\n    case false:\n      return <Emoji code='neutral_face' />\n\n    case 'lose':\n      return <Emoji code='dizzy_face' />\n\n    default:\n      throw Error(`Game state '${gameState}' not implemented`)\n  }\n}\n","import React, { useCallback } from 'react'\nimport useBoard from '../hooks/useBoard'\nimport CellEmoji from './CellEmoji'\nimport GameStateEmoji from './GameStateEmoji'\n\nexport default function Board ({ boardDimensions }) {\n  const { board, uncover, restart, toogleFlag, seconds, minesCounter, gameEnded } = useBoard(boardDimensions)\n\n  const handleToogleFlag = useCallback((e, rowIndex, columnIndex) => {\n    e.preventDefault()\n    toogleFlag(rowIndex, columnIndex)\n  }, [toogleFlag])\n\n  return (\n    <table className='board'>\n      <tbody>\n        <tr>\n          <td className='header' colSpan={board[0].length}>\n            <div className='counter' style={{ float: 'left' }}>{minesCounter}</div>\n            <div className='counter' style={{ float: 'right' }}>{seconds > 999 ? 999 : seconds}</div>\n            <div className='restarter' onClick={restart}>\n              <GameStateEmoji gameState={gameEnded} />\n            </div>\n          </td>\n        </tr>\n        {board.map((row, rowIndex) => (\n          <tr key={rowIndex}>\n            {row.map((cell, columnIndex) => (\n              <td\n                key={`${rowIndex},${columnIndex}`}\n                className={`cell ${cell.state} cell-${cell.value}`}\n                onClick={() => uncover(rowIndex, columnIndex)}\n                onContextMenu={e => handleToogleFlag(e, rowIndex, columnIndex)}\n              >\n                <CellEmoji cell={cell} />\n              </td>\n            ))}\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  )\n}\n","import { useCallback, useEffect, useState } from 'react'\nimport createBoard from '../core/createBoard'\nimport initBoard from '../core/initBoard'\nimport isMine from '../core/isMine'\nimport visitAdjacent from '../core/visitAdjacent'\n\nexport default function useBoard (dimensions, defaultBoard = null) {\n  const { width, height, mines, maxAdjacentMines } = dimensions\n  const [board, setBoard] = useState(() => defaultBoard || initBoard(createBoard(width, height, mines)))\n  const [gameEnded, setGameEnded] = useState(false)\n  const [seconds, setSeconds] = useState(0)\n  const [runTimer, setRunTimer] = useState(false)\n  const [minesCounter, setMinesCounter] = useState(mines)\n\n  useEffect(() => {\n    if (!runTimer) {\n      return\n    }\n\n    const interval = setInterval(() => {\n      setSeconds(seconds => seconds + 1)\n    }, 1000)\n\n    return () => clearInterval(interval)\n  }, [runTimer])\n\n  useEffect(() => {\n    if (gameEnded) {\n      setRunTimer(false)\n      uncoverAllMines()\n    } else {\n      setSeconds(0)\n      setMinesCounter(mines)\n    }\n  }, [gameEnded])\n\n  useEffect(() => {\n    for (let i = 0; i < board.length; i++) {\n      for (let j = 0; j < board[i].length; j++) {\n        if (!isMine(board[i][j].value) && board[i][j].state !== 'uncovered') {\n          return\n        }\n      }\n    }\n    setGameEnded('won')\n  }, [board])\n\n  useEffect(() => {\n    restart()\n  }, [width, height, mines])\n\n  useEffect(() => {\n    setMinesCounter(mines)\n  }, [mines])\n\n  const uncover = useCallback((x, y) => {\n    if (gameEnded) {\n      return\n    }\n\n    setRunTimer(true)\n\n    setBoard(board => {\n      uncoverRecursively(board, x, y)\n      return [...board]\n    })\n  }, [gameEnded, width, height])\n\n  const restart = useCallback(() => {\n    setBoard(initBoard(createBoard(width, height, mines, maxAdjacentMines)))\n    setGameEnded(false)\n  }, [width, height, mines, maxAdjacentMines])\n\n  const toogleFlag = useCallback((xTarget, yTarget) => {\n    if (gameEnded) {\n      return\n    }\n\n    setBoard(board => {\n      const cell = board[xTarget][yTarget]\n      if (cell.state === 'flagged') {\n        cell.state = 'question-mark'\n        setMinesCounter(mines => mines + 1)\n      } else if (cell.state === 'covered') {\n        cell.state = 'flagged'\n        setMinesCounter(mines => mines - 1)\n      } else if (cell.state === 'question-mark') {\n        cell.state = 'covered'\n      }\n      return [...board]\n    })\n  }, [gameEnded])\n\n  function uncoverRecursively (board, xTarget, yTarget) {\n    const cell = board[xTarget][yTarget]\n    if (isMine(cell.value)) {\n      cell.state = 'exploted'\n      setGameEnded('lose')\n    } else {\n      uncoverCell(board, xTarget, yTarget)\n    }\n\n    if (cell.value === 0 && cell.state !== 'flagged') {\n      visitAdjacent(xTarget, yTarget, width, height, (x, y) => {\n        if (board[x][y].state !== 'uncovered') {\n          uncoverRecursively(board, x, y)\n        }\n      })\n    }\n  }\n\n  function uncoverAllMines () {\n    setBoard(board => {\n      board.forEach((row, rowIndex) => (\n        row.forEach((cell, columnIndex) => {\n          if (isMine(cell.value) || cell.state === 'flagged') {\n            uncoverCell(board, rowIndex, columnIndex)\n          }\n        })\n      ))\n      return [...board]\n    })\n  }\n\n  function uncoverCell (board, xTarget, yTarget) {\n    const cell = board[xTarget][yTarget]\n    if (['covered', 'question-mark'].includes(cell.state)) {\n      cell.state = 'uncovered'\n    } else if (cell.state === 'flagged' && !isMine(cell.value) && gameEnded) {\n      cell.state = 'wrong-flagged'\n    }\n  }\n\n  return {\n    board,\n    uncover,\n    restart,\n    toogleFlag,\n    seconds,\n    minesCounter,\n    gameEnded\n  }\n}\n","import React from 'react'\n\nexport default function CustomDimensionsForm ({ boardDimensions, showForm, maxAdjacentMines = 8 }) {\n  const { setBoardDimensions, ...dimensions } = boardDimensions\n\n  return (\n    <div className={showForm ? '' : 'invisible'}>\n      <label htmlFor='width'>\n        Width\n        <input\n          type='number'\n          className='dimension'\n          name='width'\n          value={dimensions.height}\n          onChange={e => setBoardDimensions(dimensions.width, e.target.value, dimensions.mines, maxAdjacentMines)}\n        />\n      </label>\n      <br />\n      <label htmlFor='height'>\n        Height\n        <input\n          type='number'\n          className='dimension'\n          name='height'\n          value={dimensions.width}\n          onChange={e => setBoardDimensions(e.target.value, dimensions.height, dimensions.mines, maxAdjacentMines)}\n        />\n      </label>\n      <br />\n      <label htmlFor='mines'>\n        Mines\n        <input\n          type='number'\n          className='dimension'\n          name='mines'\n          value={dimensions.mines}\n          onChange={e => setBoardDimensions(dimensions.width, dimensions.height, e.target.value, maxAdjacentMines)}\n        />\n      </label>\n    </div>\n  )\n}\n","import React, { useState } from 'react'\nimport { ErrorBoundary } from 'react-error-boundary'\nimport Board from './components/Board'\nimport CustomDimensionsForm from './components/CustomDimensionsForm'\nimport useBoardDimensions from './hooks/useBoardDimensions'\n\nexport default function App () {\n  const [showForm, setShowForm] = useState(false)\n  const boardDimensions = useBoardDimensions()\n  const { setBoardDimensions } = boardDimensions\n\n  return (\n    <>\n      <h1>Minesweeper</h1>\n      <h3><i>by: Enmy Perez</i></h3>\n      <ErrorBoundary\n        fallbackRender={({ error, resetErrorBoundary }) => (\n          <div style={{ marginTop: '4em', marginBottom: '4em' }}>\n            <h3 style={{ color: 'red' }}>{error.message}</h3>\n            <button onClick={resetErrorBoundary} className='py-4'>Try again</button>\n          </div>\n        )}\n      >\n        <Board boardDimensions={boardDimensions} />\n      </ErrorBoundary>\n      <div>\n        <span className='level-selector' onClick={() => setBoardDimensions(8, 8, 10)}>Beginner</span>\n        <span className='level-selector' onClick={() => setBoardDimensions(16, 16, 40)}>Intermediate</span>\n        <span className='level-selector' onClick={() => setBoardDimensions(16, 30, 99, 8)}>Expert</span>\n        <span className='level-selector' onClick={() => setShowForm(show => !show)}>Custom</span>\n      </div>\n      <CustomDimensionsForm\n        boardDimensions={boardDimensions}\n        showForm={showForm}\n      />\n    </>\n  )\n}\n","import { useCallback, useState } from 'react'\n\nexport default function useBoardDimensions ({\n  defaultWidth = 8,\n  defaultHeight = 8,\n  defaultMines = 10,\n  defaultMaxAdjacentMines = 6\n} = {}) {\n  const [width, setWidth] = useState(defaultWidth)\n  const [height, setHeight] = useState(defaultHeight)\n  const [mines, setMines] = useState(defaultMines)\n  const [maxAdjacentMines, setMaxAdjacentMines] = useState(defaultMaxAdjacentMines)\n\n  const setBoardDimensions = useCallback((width, height, mines, maxAdjacentMines = 6) => {\n    setWidth(width)\n    setHeight(height)\n    setMines(mines)\n    setMaxAdjacentMines(maxAdjacentMines)\n  }, [])\n\n  return {\n    width,\n    height,\n    mines,\n    maxAdjacentMines,\n    setBoardDimensions\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nif (document.getElementById('root')) {\n  ReactDOM.render(<App />, document.getElementById('root'))\n}\n"],"sourceRoot":""}